<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="네이버 예약이 연동된 곳 어디서나 바로 예약하고, 네이버 예약 홈(나의예약)에서 모두 관리할 수 있습니다."
    />
    <meta name="author" content="F012R" />
    <title>네이버 예약</title>
    <link rel="icon" href="/assets/images/favicon.ico" />
    <link rel="stylesheet" href="../global/global.css" />
    <link rel="stylesheet" href="index.css" />
  </head>
  <body>
    <header id="header"></header>
    <main>
      <section id="promotion"></section>
      <section id="category"><!-- product-count 포함 --></section>
      <section id="product"><!-- more 포함 --></section>
    </main>
    <footer id="footer"><!-- top 포함 --></footer>

    <script>
      // header 컴포넌트 추가
      document.addEventListener("DOMContentLoaded", function () {
        fetch("../pages/main/header.html")
          .then((response) => response.text())
          .then((data) => {
            const headerElement = document.getElementById("header");
            headerElement.innerHTML = data;
    
            // header 이벤트 리스너 추가
            setTimeout(() => {
              const userEmail = localStorage.getItem("userEmail");
              const emailElement = document.getElementById("user-email");
              
              if (emailElement) {
                emailElement.textContent = userEmail ? userEmail : "예약확인";
    
                emailElement.addEventListener("click", function () {
                  if (userEmail) {
                    window.location.href = "my-booking.html";
                  } else {
                    window.location.href = "login.html";
                  }
                });
              }
            }, 100);
          })
          .catch((error) => console.error("header.html 로딩 중 오류 발생:", error));
      });
    </script>
    

    <script src="../global/global.js"></script>
    <script src="index.js"></script>
  </body>
</html>
